# Landing Pages Admin - User Guide

## Quick Start

### Accessing the Admin Interface
Navigate to: `/admin/landing`

## Main Features

### 1. View All Landing Pages
The main dashboard displays all landing pages with:
- **City & State**: Location of the landing page
- **Page Type**: Type of listing (homes-for-sale, condos-for-sale, etc.)
- **Properties**: Number of active properties in that city
- **Views**: Page view count (coming soon)
- **Status**: Published (has AI content) or Draft (no AI content)

### 2. Search & Filter
- **Search Bar**: Search by city name, slug, or page type
- **Type Filter**: Filter by specific page type (homes-for-sale, condos-for-sale, luxury-homes, etc.)

### 3. Generate Landing Pages (Bulk)

#### Step 1: Click "Generate Pages" button
This will create landing pages for all California cities configured in the system.

#### Step 2: Confirm the action
A confirmation dialog will appear. Click OK to proceed.

#### Step 3: Wait for completion
The system will:
1. Loop through all configured CA cities
2. Create pages for each landing type
3. Generate AI content for each page
4. Store everything in the database

**Note**: This process may take 1-2 minutes depending on the number of cities and API rate limits.

### 4. Create Individual Landing Page

#### Step 1: Click "Create Manual" button

#### Step 2: Fill in the Basic Information
- **City** (required): e.g., "San Diego"
- **State**: Default is "CA"
- **Page Type**: Select from dropdown (homes-for-sale, condos-for-sale, etc.)

#### Step 3: Generate AI Content (Optional but Recommended)
Click the **"Generate with AI"** button to automatically create:
- SEO-optimized content (800-1000 words)
- Meta title (optimized for search)
- Meta description (optimized for search)
- Page description

The AI will use the city and page type to create highly relevant, locally-focused content.

#### Step 4: Customize Remaining Fields (if needed)
- **Slug**: Auto-generated or customize
- **Title**: Generated by AI or enter manually
- **Description**: Generated by AI or enter manually
- **Meta Title**: Generated by AI or customize (max 60 characters)
- **Meta Description**: Generated by AI or customize (max 160 characters)
- **Content**: Generated by AI or add custom HTML/Markdown

#### Step 5: Click "Create Page"
The page will be saved to the database and you'll be redirected to the edit page.

### 5. Edit Landing Page

#### Step 1: Click the Edit icon (pencil) on any row

#### Step 2: Update the fields
- Modify city, page type, slug
- Edit title and description
- Update meta tags
- Edit or regenerate AI content

#### Step 3: Regenerate AI Content (Optional)
Click the "Regenerate AI" button to create fresh AI-generated content for the page.

#### Step 4: Save Changes
Click "Save Changes" to update the database.

### 6. Regenerate AI Content

#### From List View:
Click the refresh icon (üîÑ) next to any page to regenerate its AI content.

#### From Edit View:
Click the "Regenerate AI" button at the top of the edit page.

**Note**: Regeneration will overwrite existing content. Make sure to confirm the action.

### 7. Preview Landing Page

#### From List View:
Click the eye icon (üëÅÔ∏è) to open the live page in a new tab.

#### From Edit View:
Click the "Preview" button to view the page.

## Understanding Page Status

### Published (Green Badge)
- Has AI-generated content
- Visible to search engines
- Displays on the public website

### Draft (Orange Badge)
- No AI content yet
- May need manual content or AI regeneration
- Still accessible via direct URL

## Tips & Best Practices

### 1. Bulk Generation
- Use "Generate Pages" when setting up for the first time
- This creates pages for all configured cities automatically
- AI content is generated during creation

### 2. Individual Creation
- Use "Create Manual" for special cases or new cities
- You can add custom content or use AI generation later

### 3. Content Updates
- Regenerate AI content periodically to keep it fresh
- Manual edits to content field are preserved unless regenerated

### 4. SEO Optimization
- Always fill in Meta Title and Meta Description
- Keep titles under 60 characters
- Keep descriptions under 160 characters
- Use city name and relevant keywords

### 5. Property Counts
- Property counts update automatically based on database
- Reflects current active listings in that city
- No manual update needed

## Troubleshooting

### No Pages Showing
1. Check if database connection is working
2. Try generating pages using "Generate Pages" button
3. Check browser console for errors

### AI Content Not Generating
1. Verify OpenAI API key is set in environment variables
2. Check API rate limits
3. Try regenerating individual pages instead of bulk

### Property Count is 0
1. Check if properties exist in the properties table for that city
2. Verify city name matches exactly (case-insensitive)
3. Check database connection

### Page Not Saving
1. Verify all required fields are filled
2. Check browser console for error messages
3. Ensure Supabase connection is working

## Advanced Features

### AI Content Generation

The admin interface includes powerful AI content generation:

#### From Create Page
1. Enter city name and select page type
2. Click "Generate with AI" button
3. AI creates:
   - 800-1000 words of SEO-optimized content
   - Locally-focused market insights
   - Meta title and description
   - Page description
4. Review and customize if needed
5. Save the page

#### From Edit Page
1. Open any existing landing page
2. Click "Regenerate AI" button
3. Confirm to overwrite existing content
4. New AI content is generated and populated
5. Save changes

### AI Content Features
- **SEO Optimized**: Includes target keywords naturally
- **Locally Relevant**: References city-specific information
- **Market Insights**: Covers housing trends and buyer appeal
- **Professional Tone**: Trustworthy and conversion-focused
- **Structured**: Organized paragraphs with proper HTML formatting

### Filter by Type
Use the dropdown to view only specific types of landing pages:
- All Types
- Homes for Sale
- Condos for Sale
- Luxury Homes
- Homes with Pool
- Homes Under $500k
- Homes Over $1M
- 2-Bedroom Apartments

### Search
The search bar looks in:
- City names
- Page slugs
- Page types

Use partial matches for quick filtering.

## Statistics Dashboard

The top cards show:
- **Total Pages**: All landing pages in database
- **Published**: Pages with AI content
- **Draft**: Pages without AI content
- **Total Views**: Cumulative page views (coming soon)

## URL Structure

Landing pages follow this pattern:
```
/california/[city-slug]/[page-type]
```

Examples:
- `/california/san-diego/homes-for-sale`
- `/california/san-francisco/luxury-homes`
- `/california/los-angeles/condos-for-sale`

## California Cities

Currently configured cities (from `CA_CITIES`):
- San Jose
- San Francisco

More cities can be added by updating the `CA_CITIES` constant in `/src/lib/seo/cities.ts`.

## Page Types

All supported page types (from `LANDINGS`):
1. **homes-for-sale**: General home listings
2. **condos-for-sale**: Condominium listings
3. **homes-with-pool**: Homes featuring pools
4. **luxury-homes**: High-end luxury properties
5. **homes-under-500k**: Affordable homes under $500,000
6. **homes-over-1m**: Premium homes over $1,000,000
7. **2-bedroom-apartments**: 2-bedroom apartment listings

## API Endpoints

For developers:

### GET `/api/admin/landing-pages`
Fetch all landing pages with optional type filter

### GET `/api/admin/landing-pages/[id]`
Fetch single landing page

### POST `/api/admin/landing-pages`
Create new landing page

### PUT `/api/admin/landing-pages/[id]`
Update landing page

### DELETE `/api/admin/landing-pages/[id]`
Delete landing page

### POST `/api/admin/generate-landing-pages`
Generate pages for all cities

### POST `/api/admin/landing-pages/[id]/regenerate`
Regenerate AI content for specific page

### GET `/api/admin/landing-pages/stats`
Get statistics

## Support

For issues or questions:
1. Check the console for error messages
2. Verify environment variables are set
3. Check Supabase connection
4. Review the integration documentation in `LANDING_PAGES_ADMIN_INTEGRATION.md`
