############################################
# Core Application Environment
############################################
NODE_ENV=development
JWT_SECRET=change-this-to-a-long-random-secret

NEXT_PUBLIC_BASE_URL=http://localhost:3000
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000

############################################
# Google Maps (Client Side)
############################################
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

############################################
# Postgres / Cloud SQL Connection
# Choose ONE of the following modes:
# 1) Local proxy / direct TCP: set DB_HOST (+ DB_PORT/DB_USER/DB_PASSWORD/DB_NAME)
# 2) Full connection string: set DATABASE_URL
# 3) Cloud SQL Connector (recommended for prod): omit DB_HOST, set INSTANCE_CONNECTION_NAME + DB_USER/DB_PASSWORD/DB_NAME and ensure ADC/service account creds.
############################################
# Example (local with proxy):
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=Marwah123
DB_NAME=redata
DB_SSL=false

# Example (prod / connector):
INSTANCE_CONNECTION_NAME=database-ccos:us-central1:ccos-sql
# DATABASE_URL=postgres://user:pass@host:5432/dbname  # (optional alternative)

############################################
# (Legacy) Trestle API â€“ keep only if still calling external API elsewhere
############################################
TRESTLE_API_ID=d63ef0f1cad54d3f9046bd8b33cc70e2
TRESTLE_API_PASSWORD=e4942041c6d44f4cbbd746fbb9306561
TRESTLE_BASE_URL=https://api-trestle.corelogic.com/trestle
TRESTLE_OAUTH_URL=https://api-trestle.corelogic.com/trestle/oidc/connect/token
TRESTLE_UPDATE_INTERVAL=15

############################################
# Feature Flags
############################################
DB_BACKEND=cloudsql # Set to 'cloudsql' to force Cloud SQL connector even if DB_HOST is present. For local dev with a proxy, change to 'tcp'.

# IMPORTANT: When DB_BACKEND=cloudsql in production, REMOVE or comment out DB_HOST/DB_PORT to avoid accidental TCP path.
# The code now prioritizes DB_BACKEND. INSTANCE_CONNECTION_NAME must be set and service account / ADC credentials available.

############################################
# OpenAI (for AI landing descriptions)
############################################
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

############################################
# Supabase (used for authentication and landing page content + AI description cache)
# Create a project at https://app.supabase.com, then fill these in.
# SERVICE role key should be kept server-side only (never expose to browser).
# ANON key is safe to expose to the browser.
############################################
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# Unsplash (for dynamic landing hero images)
# Create a free developer account: https://unsplash.com/developers
UNSPLASH_ACCESS_KEY=pxW3Tyg_Ae7it3zRSzAfX3ESlxpRM_rnBJsI0r0lBpU

############################################
# CRM / Lead Capture
############################################
# CRM provider switch
CRM_PROVIDER=lofty

# Lofty CRM (replace with real values in production)

LOFTY_WEBHOOK_SECRET=__set_if_supported__

# Optional queue backend
REDIS_URL=

# Public site base (used in tracking / structured data)
PUBLIC_SITE_URL=http://localhost:3000

############################################
# Email SMTP settings (used by /api/send-lead-email)
# Example for Gmail (use an App Password):
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=465
# EMAIL_SECURE=true
# EMAIL_USER=your@email.com
# EMAIL_PASS=your-app-password
# EMAIL_TO=leads@crowncoastal.com