# Agent Reza config (optional; safe defaults are used if unset)
AGENT_REZA_NAME="Reza Khan"
AGENT_REZA_TITLE="Lead Buyer’s Agent"
AGENT_REZA_PHONE="+92-300-0000000"
AGENT_REZA_WHATSAPP="+923000000000"
AGENT_REZA_EMAIL="reza@majidrealestate.com"
AGENT_REZA_PHOTO_URL="https://your-cdn/reza.jpg"

# Referral cookies
REFERRAL_COOKIE_NAME=ref
REFERRAL_COOKIE_MAX_DAYS=90
CC_SESSION_COOKIE_NAME=cc_session

# Default points
REFERRAL_POINTS_SIGNUP=10
REFERRAL_POINTS_LEAD=40
REFERRAL_POINTS_APPOINTMENT=80
REFERRAL_POINTS_CLOSING=300

# Admins (comma-separated emails)
REFERRAL_ADMIN_EMAILS=founder@yourco.com,admin@yourco.com

# Optional admin bearer token for server-to-server calls
REFERRAL_ADMIN_TOKEN=

# Feature flag to disable quickly
REFERRALS_ENABLED=true

############################################
# Core Application Environment
############################################
NODE_ENV=development
JWT_SECRET=change-this-to-a-long-random-secret

NEXT_PUBLIC_BASE_URL=http://localhost:3000
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000

############################################
# Google Maps (Client Side)
############################################
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

############################################
# Postgres / Cloud SQL Connection
# Choose ONE of the following modes:
# 1) Local proxy / direct TCP: set DB_HOST (+ DB_PORT/DB_USER/DB_PASSWORD/DB_NAME)
# 2) Full connection string: set DATABASE_URL
# 3) Cloud SQL Connector (recommended for prod): omit DB_HOST, set INSTANCE_CONNECTION_NAME + DB_USER/DB_PASSWORD/DB_NAME and ensure ADC/service account creds.
############################################
# Example (local with proxy):
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=Marwah123
DB_NAME=redata
DB_SSL=false

# Example (prod / connector):
INSTANCE_CONNECTION_NAME=database-ccos:us-central1:ccos-sql
# DATABASE_URL=postgres://user:pass@host:5432/dbname  # (optional alternative)

############################################
# (Legacy) Trestle API – keep only if still calling external API elsewhere
############################################
TRESTLE_API_ID=d63ef0f1cad54d3f9046bd8b33cc70e2
TRESTLE_API_PASSWORD=e4942041c6d44f4cbbd746fbb9306561
TRESTLE_BASE_URL=https://api-trestle.corelogic.com/trestle
TRESTLE_OAUTH_URL=https://api-trestle.corelogic.com/trestle/oidc/connect/token
TRESTLE_UPDATE_INTERVAL=15

############################################
# Feature Flags
############################################
DB_BACKEND=cloudsql # Set to 'cloudsql' to force Cloud SQL connector even if DB_HOST is present. For local dev with a proxy, change to 'tcp'.

# IMPORTANT: When DB_BACKEND=cloudsql in production, REMOVE or comment out DB_HOST/DB_PORT to avoid accidental TCP path.
# The code now prioritizes DB_BACKEND. INSTANCE_CONNECTION_NAME must be set and service account / ADC credentials available.

############################################
# OpenAI (for AI landing descriptions)
############################################
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
CHAT_MODEL=gpt-5-mini
EMBED_MODEL=text-embedding-3-small

############################################
# Analytics / PWA / A/B
############################################
GA_MEASUREMENT_ID=
NEXT_PUBLIC_GA_MEASUREMENT_ID=
HOTJAR_ID=
NEXT_PUBLIC_HOTJAR_ID=
CLARITY_TAG=
NEXT_PUBLIC_CLARITY_TAG=
CDN_URL=
AB_TEST_ENABLED=true

############################################
# Security / Rate limiting
############################################
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
RATE_LIMIT_QPS=6
RATE_LIMIT_WINDOW=10

############################################
# Admin (basic auth)
############################################
NEXT_ADMIN_USER=admin
NEXT_ADMIN_PASS=change-me

############################################
# Referral program
############################################
REFERRAL_REWARD_POINTS=50

############################################
# Qdrant
############################################
QDRANT_URL=
QDRANT_API_KEY=

############################################
# Supabase (used for authentication and landing page content + AI description cache)
# Create a project at https://app.supabase.com, then fill these in.
# SERVICE role key should be kept server-side only (never expose to browser).
# ANON key is safe to expose to the browser.
############################################
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_URL=
SUPABASE_SERVICE_ROLE=

# Unsplash (for dynamic landing hero images)
# Create a free developer account: https://unsplash.com/developers
UNSPLASH_ACCESS_KEY=pxW3Tyg_Ae7it3zRSzAfX3ESlxpRM_rnBJsI0r0lBpU

############################################
# CRM / Lead Capture
############################################
# CRM provider switch
CRM_PROVIDER=lofty

# Lofty CRM (replace with real values in production)

LOFTY_WEBHOOK_SECRET=__set_if_supported__

# Optional queue backend
REDIS_URL=

# Public site base (used in tracking / structured data)
PUBLIC_SITE_URL=http://localhost:3000

############################################
# Email SMTP settings (server-side; used by /api/send-lead-email and chat leads)
############################################
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=465
EMAIL_SECURE=true
EMAIL_USER=your@gmail.com
EMAIL_PASS=app-password-here
EMAIL_TO=sales@yourdomain.com

############################################
# ElevenLabs (voice)
############################################
ELEVENLABS_API_KEY=
ELEVENLABS_VOICE_ID=Rachel

############################################
# Email SMTP settings (used by /api/send-lead-email)
# Example for Gmail (use an App Password):
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=465
# EMAIL_SECURE=true
# EMAIL_USER=your@email.com
# EMAIL_PASS=your-app-password
# EMAIL_TO=leads@crowncoastal.com

# Admin (app-local) credentials. Use strong password; only these creds can access /admin
ADMIN_USERNAME=admin
# Change this in production and keep it secret (do NOT commit real values)
ADMIN_PASSWORD=Admin!Passw0rd#2025
ADMIN_EMAIL=emamajbargh@gmail.com

############################################
# Temporary Supabase Mirror (10-day swap)
# Set this to the Supabase Postgres connection string while waiting for
# Cloud SQL credentials. After the demo window, revert to original settings.
# Replace <PROJECT_REF> and <PASSWORD> with actual values from Supabase.
############################################
# Example:
# DATABASE_URL=postgresql://postgres:<PASSWORD>@db.<PROJECT_REF>.supabase.co:5432/postgres?sslmode=require
# (Leave the Cloud SQL / connector vars above intact so you can switch back
# simply by commenting/uncommenting.)

